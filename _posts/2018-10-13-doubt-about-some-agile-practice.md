---
layout: post
title: "Doubt About Some Agile Practice"
description: ""
category: 
tags: []
---
{% include JB/setup %}
###关于质疑

####TDD

说到TDD，会有一些争议。

一是花的时间长，用TDD会比直接写实现代码多一倍的时间。
我认为，当不熟悉TDD开发方式，或者只用先测试再开发的方式而未领会到TDD的内在意义，确实是会花更多的时间。毕竟，至少多了写测试的时间。但是，TDD的设定是帮助设计代码并一定程度上协助理清思路，关注在真正需要的需求上，避免不必要的过度设计造成的僵尸代码，也可帮助避免遗漏需涵盖的业务场景。所以，当能够领会和使用TDD的思维方式和用法后，就不会陷在该测过程还是结果，测试粒度到底该多大的讨论泥潭里了。要达到如此效果需要多练，无论是做coding kata还是在产品代码中实战。

二是单元测试没意义。
当你在纠结这个问题时，可能需要看一下被测的产品代码是否是主要业务逻辑，如果主要业务代码还没有测试覆盖，而花了很多时间为边角的代码补写测试，就很容易造成单元测试无意义的假象。写单元测试也要从业务意义出发，如果专注于实现细节的测试，测试代码是否通过无法反应业务逻辑是否正确，这样的单元测试确实没意义。对于没有使用TDD甚至没有测试的遗留系统，新代码量不大但需要补写的自动化测试数量特别大的情况，个人认为可以先理出主业务线，在一条完整的功能测试基础上添加单元测试来覆盖分支逻辑。如此，可以更快体现自动化测试的作用，也可辅助单元测试的添加，毕竟，后期添加单元测试的代码通常都需要重构。

####结对编程

同样遭受到质疑的还有结对编程，有人会觉得浪费时间，在制品数量（WIP）减半，导致团队吞吐量（throughput）降低。但恰当的结对编程可以降低和吞吐量成反比的lead time，是项目的质量闸门之一，也推进了团队成员间的信息和能力交流，变相地提高吞吐量，也一定程度上减少专人只能做专任务导致高优先级任务无法全员推进的现象。
所以，测试策略，TDD和结对编程等小的实践的价值并非只是它们本身的体现，其背后也可延伸和发现多个项目中可能存在的问题。也会收到意外之喜，比如更加积极主动的团队成员甚至自组织团队。但收效相较缓慢，很难被初接触敏捷实践的团队接受。这就需要对敏捷理解更深的团队成员的坚持和不断引导分享，用习惯力量继续下去。

####投入时间

有人抱怨说加入敏捷实践后，需要投入的时间增加了。
我想说，这是必然的。当不熟悉敏捷时，学习是要花大量时间的。学习的过程一定是痛苦的，团队需要有人组织规律时间的学习训练；在敏捷实践理解不深，应用不熟的情况下很容易在外部压力下放弃，这时需要有人在项目中出现千变万化的问题，特别是针对敏捷实践的挑战或阻力时，找到合适的应对措施坚持必须的实践，这些人就是我们培养的内部教练。

####最后

敏捷不只是快，更重要的是高质量地产出正确的产品。敏捷之所以被推崇和应用，但很多团队敏捷转型失败或是空有其表，个人认为是在实际项目中千变万化的问题和压力无法找到敏捷的方法，敏捷方法多样，在什么团队什么情况什么实践是必须有如何做都不同。团队需要的是Be agile而非Do agile。
你的团队如何呢？是否在交付压力下放弃了必要的敏捷实践？私认为敏捷实践之一就是不断审视自己所在的项目和团队，无论你的项目是以敏捷的方式创建的，还是后来转型成功的。细节决定成败。

